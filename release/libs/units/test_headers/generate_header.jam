# generate_header.jam
#
# Copyright (c) 2008
# Steven Watanabe
#
# Distributed under the Boost Software License, Version 1.0. (See
# accompanying file LICENSE_1_0.txt or copy at
# http://www.boost.org/LICENSE_1_0.txt)

import type ;
import generators ;
import print ;
import path ;

rule generate_include_all ( target : sources * : properties * ) {

    print.output $(target) ;

    for local file in $(sources) {
        print.text "#include <$(file:G=)>
" : overwrite ;
    }

}

type.register GENERATE_INCLUDE_ALL_CPP : : CPP ;

generators.register-composing generate_header.generate_include_all : HPP : GENERATE_INCLUDE_ALL_CPP ;
