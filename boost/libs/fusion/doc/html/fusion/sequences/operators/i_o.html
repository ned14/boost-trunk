<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>I/O</title>
<link rel="stylesheet" href="../../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.66.1">
<link rel="start" href="../../../index.html" title="Chapter 1. Fusion 2.0">
<link rel="up" href="../operators.html" title="Operators">
<link rel="prev" href="../operators.html" title="Operators">
<link rel="next" href="i_o/in.html" title="in">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%">
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../../index.htm">Home</a></td>
<td align="center"><a href="../../../../../../libraries.htm">Libraries</a></td>
<td align="center"><a href="../../../../../../../people/people.htm">People</a></td>
<td align="center"><a href="../../../../../../../more/faq.htm">FAQ</a></td>
<td align="center"><a href="../../../../../../../more/index.htm">More</a></td>
</table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../operators.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../operators.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="i_o/in.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="fusion.sequences.operators.i_o"></a><a href="i_o.html" title="I/O">I/O</a></h4></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="i_o/in.html">in</a></span></dt>
<dt><span class="section"><a href="i_o/out.html">out</a></span></dt>
</dl></div>
<p>
          The I/O operators: <tt class="computeroutput"><span class="special">&lt;&lt;</span></tt>
          and <tt class="computeroutput"><span class="special">&gt;&gt;</span></tt> work generically
          on all Fusion sequences. The global <tt class="computeroutput"><span class="keyword">operator</span><span class="special">&lt;&lt;</span></tt> has been overloaded for generic
          output streams such that <span class="underline">_sequence</span>_s
          are output by recursively calling <tt class="computeroutput"><span class="keyword">operator</span><span class="special">&lt;&lt;</span></tt> for each element. Analogously,
          the global <tt class="computeroutput"><span class="keyword">operator</span><span class="special">&gt;&gt;</span></tt>
          has been overloaded to extract <span class="underline">_sequence</span>_s
          from generic input streams by recursively calling <tt class="computeroutput"><span class="keyword">operator</span><span class="special">&gt;&gt;</span></tt> for each element.
        </p>
<p>
          The default delimiter between the elements is space, and the <a href="../../sequences.html" title="Sequences">Sequence</a>
          is enclosed in parenthesis. For Example:
        </p>
<pre class="programlisting">
<a href="../containers/vector.html" title="vector"><tt class="computeroutput"><span class="identifier">vector</span></tt></a><span class="special">&lt;</span><span class="keyword">float</span><span class="special">,</span> <span class="keyword">int</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;</span> <span class="identifier">a</span><span class="special">(</span><span class="number">1.0f</span><span class="special">,</span> <span class="number">2</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">(</span><span class="string">"Howdy folks!"</span><span class="special">);</span>
<span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="identifier">a</span><span class="special">;</span> 
</pre>
<p>
          outputs the <a href="../containers/vector.html" title="vector"><tt class="computeroutput"><span class="identifier">vector</span></tt></a> as: (1.0 2 Howdy folks!)
        </p>
<p>
          The library defines three manipulators for changing the default behavior:
        </p>
<div class="variablelist">
<p class="title"><b>Manipulators</b></p>
<dl>
<dt><span class="term"><tt class="computeroutput"><span class="identifier">tuple_open</span><span class="special">(</span><span class="identifier">arg</span><span class="special">)</span></tt></span></dt>
<dd>
            Defines the character that is output before the first element.
          </dd>
<dt><span class="term"><tt class="computeroutput"><span class="identifier">tuple_close</span><span class="special">(</span><span class="identifier">arg</span><span class="special">)</span></tt></span></dt>
<dd>
            Defines the character that is output after the last element.
          </dd>
<dt><span class="term"><tt class="computeroutput"><span class="identifier">tuple_delimiter</span><span class="special">(</span><span class="identifier">arg</span><span class="special">)</span></tt></span></dt>
<dd>
            Defines the delimiter character between elements.
          </dd>
</dl>
</div>
<p>
          The argument to <tt class="computeroutput"><span class="identifier">tuple_open</span></tt>,
          <tt class="computeroutput"><span class="identifier">tuple_close</span></tt> and <tt class="computeroutput"><span class="identifier">tuple_delimiter</span></tt> may be a <tt class="computeroutput"><span class="keyword">char</span></tt>, <tt class="computeroutput"><span class="keyword">wchar_t</span></tt>,
          a C-string, or a wide C-string.
        </p>
<p>
          Example:
        </p>
<pre class="programlisting">
<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="identifier">tuple_open</span><span class="special">(</span><span class="char">'['</span><span class="special">)</span> <span class="special">&lt;&lt;</span> <span class="identifier">tuple_close</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span> <span class="special">&lt;&lt;</span> <span class="identifier">tuple_delimiter</span><span class="special">(</span><span class="string">", "</span><span class="special">)</span> <span class="special">&lt;&lt;</span> <span class="identifier">a</span><span class="special">;</span>
</pre>
<p>
          outputs the same <a href="../containers/vector.html" title="vector"><tt class="computeroutput"><span class="identifier">vector</span></tt></a>, <tt class="computeroutput"><span class="identifier">a</span></tt>
          as: [1.0, 2, Howdy folks!]
        </p>
<p>
          The same manipulators work with <tt class="computeroutput"><span class="keyword">operator</span><span class="special">&gt;&gt;</span></tt> and <tt class="computeroutput"><span class="identifier">istream</span></tt>
          as well. Suppose the <tt class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">cin</span></tt>
          stream contains the following data:
        </p>
<pre class="programlisting">
<span class="special">(</span><span class="number">1</span> <span class="number">2</span> <span class="number">3</span><span class="special">)</span> <span class="special">[</span><span class="number">4</span><span class="special">:</span><span class="number">5</span><span class="special">]</span>
</pre>
<p>
          The code:
        </p>
<pre class="programlisting">
<a href="../containers/vector.html" title="vector"><tt class="computeroutput"><span class="identifier">vector</span></tt></a><span class="special">&lt;</span><span class="keyword">int</span><span class="special">,</span> <span class="keyword">int</span><span class="special">,</span> <span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">i</span><span class="special">;</span>
<a href="../containers/vector.html" title="vector"><tt class="computeroutput"><span class="identifier">vector</span></tt></a><span class="special">&lt;</span><span class="keyword">int</span><span class="special">,</span> <span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">j</span><span class="special">;</span>

<span class="identifier">std</span><span class="special">::</span><span class="identifier">cin</span> <span class="special">&gt;&gt;</span> <span class="identifier">i</span><span class="special">;</span>
<span class="identifier">std</span><span class="special">::</span><span class="identifier">cin</span> <span class="special">&gt;&gt;</span> <span class="identifier">set_open</span><span class="special">(</span><span class="char">'['</span><span class="special">)</span> <span class="special">&gt;&gt;</span> <span class="identifier">set_close</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span> <span class="special">&gt;&gt;</span> <span class="identifier">set_delimiter</span><span class="special">(</span><span class="char">':'</span><span class="special">);</span>
<span class="identifier">std</span><span class="special">::</span><span class="identifier">cin</span> <span class="special">&gt;&gt;</span> <span class="identifier">j</span><span class="special">;</span>
</pre>
<p>
          reads the data into the <span class="underline">_vector</span>_s
          <tt class="computeroutput"><span class="identifier">i</span></tt> and <tt class="computeroutput"><span class="identifier">j</span></tt>.
        </p>
<p>
          Note that extracting <span class="underline">_sequence</span>_s
          with <tt class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></tt> or C-style string elements does
          not generally work, since the streamed <a href="../../sequences.html" title="Sequences">Sequence</a>
          representation may not be unambiguously parseable.
        </p>
<a name="fusion.sequences.operators.i_o.header"></a><h5>
<a name="id542755"></a>
          <a href="i_o.html#fusion.sequences.operators.i_o.header">Header</a>
        </h5>
<pre class="programlisting">
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">fusion</span><span class="special">/</span><span class="identifier">sequence</span><span class="special">/</span><span class="identifier">io</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
</pre>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><small>Copyright © 2001-2005 Joel de Guzman, Dan Marsden</small></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../operators.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../operators.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="i_o/in.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
</body>
</html>
