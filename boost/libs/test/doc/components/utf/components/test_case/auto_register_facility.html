<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
<HEAD>
<TITLE>The automatic registration facility</TITLE>
<LINK rel="stylesheet" type="text/css" href="../../../../style/btl.css" media="screen">
<LINK rel="stylesheet" type="text/css" href="../../../../style/btl-print.css" media="print">
<META http-equiv="Content-Language" content="en-us">
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</HEAD>
<BODY>
<DIV class="header"> <A href="../../../../index.html">Boost.Test</A> &gt; <A href="../../../index.html">Components</A> &gt; <A href="../../index.html">The
    Unit Test Framework</A> &gt; <A href="../index.html">Components</A> &gt; <A href="index.html">The
    Test Case</A> &gt; <SPAN class="current_article">The
   automatic registration facility</SPAN> </DIV>
<DIV class="body"> <IMG src="../../../btl1.gif" width="252" height="43" alt="Boost Test logo"> 
  <H1 class="subtitle">The automatic registration facility</H1>
  <H5>Definition</H5>
  <P class="first-line-indented"> defined in <A href="../../../../../../../boost/test/auto_unit_test.hpp"> 
    auto_unit_test.hpp</A></P>
  <H5>Description</H5>
  <P class="first-line-indented">This form of test cases is based on free function, 
    but unlike class <A href="function_tc.html">function_test_case</A> 
    you don't need to manually create and register them. Instances of the class 
    <A href="function_tc.html">function_test_case</A> are created automatically 
    by the framework at the point of test case definition and registered in single 
    global test suite. This way you never forget to include any test cases - it's 
    done on a fly. You doesn't need to supply init_unit_test_suite anymore. It's 
    implemented by the framework and instantiated in one of the compilation unit. 
    To notify which compilation unit should contain initialization function you 
    need to define macro <SPAN class="new-term">BOOST_AUTO_TEST_MAIN</SPAN>.
    In test with multiple compilation units <STRONG>one and only
    one</STRONG> should define 
    above macro.</P>
  <H5>Construction</H5>
  <P class="first-line-indented">To use automatic registration facility you need
    to define a test case as a zero arity free function, but instead of usual 
    void tc_name(), use following statement</P>
  <P><SPAN class="new-term">BOOST_AUTO_TEST_CASE</SPAN>( tc_name )</P>
  <P class="first-line-indented">BOOST_AUTO_TEST_CASE hides all the machinery used 
    to implement <A href="function_tc.html"></A>automatic registration. 
    The only requirements are that test case names are unique within compilation 
    unit and no two test case definition are located on the same line.</P>
  <H5>Examples</H5>
  <PRE class="code" id="ff_ex_1">#<SPAN class=reserv-word>define</SPAN> <SPAN class="new-term">BOOST_AUTO_TEST_MAIN</SPAN>
#<SPAN class="reserv-word">include</SPAN> &lt;<SPAN class="literal">boost/test/auto_unit_test.hpp</SPAN>&gt;

// _____________________________________

<SPAN class="new-term">BOOST_AUTO_TEST_CASE</SPAN>( test1 )
{
    ...
}

// _____________________________________

<SPAN class="new-term">BOOST_AUTO_TEST_CASE</SPAN>( test2 )
{
    ...
}

// _____________________________________</PRE>
</DIV>
<DIV class="footer"> 
  <DIV class="footer-body"> 
    <P> &copy; <A name="Copyright">Copyright</A> <A href="mailto:boost-test%20at%20emailaccount%20dot%20com%20%28please%20unobscure%29">Gennadiy Rozental</A> 2001-2006. <BR>
      Distributed under the Boost Software License, Version 1.0.
      (See accompanying file <A href="../../../../../../../LICENSE_1_0.txt">LICENSE_1_0.txt</A> or copy at 
      <A href="http://www.boost.org/LICENSE_1_0.txt">www.boost.org/LICENSE_1_0.txt</A>)</P>
        <P>Revised:        <!-- #BeginDate format:Sw1 -->28 February, 2006<!-- #EndDate -->     </P>
  </DIV>
</DIV>
</BODY>
</HTML>
