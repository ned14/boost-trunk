<!doctype html public "-//ietf//dtd html//en">
<html><head><title>boost::mpl::Property class generator</title>
<link rel="stylesheet" href="./mpl_wiki.css">
</head><body bgcolor="white">
<h1><a href="./Table_of_Content.html"><img src="./mpl_logo.jpg" alt="[Home]" border=0 align="right"></a>Property class generator</h1>The class is basically used to generate a family of ordinary C++ structs (or "property classes", or "named tuples", depending on how you look at them) that can be freely assigned to each other basing on the "compatibility" of their content, e.g.
<p>
<pre>
    DEFINE_STRUCTURE_GEN_MEMBER(name);
    DEFINE_STRUCTURE_GEN_MEMBER(last_name);
    DEFINE_STRUCTURE_GEN_MEMBER(street);
    DEFINE_STRUCTURE_GEN_MEMBER(city);
    DEFINE_STRUCTURE_GEN_MEMBER(zip_code);
<p>
    <span class="cxx-comment">// struct my_person</span>
    <span class="cxx-comment">// {</span>
    <span class="cxx-comment">//     std::string m_name;</span>
    <span class="cxx-comment">//     std::string m_street;</span>
    <span class="cxx-comment">//     std::string m_city;</span>
    <span class="cxx-comment">//     int m_zip_code;</span>
    <span class="cxx-comment">// };</span>
    typedef structure_gen&lt; type_list<a href="./action=edit&id=type_list.html">?</a>&lt;
          name&lt;std::string&gt;
        , street&lt;std::string&gt;
        , city&lt;std::string&gt;
        , zip_code&lt;int&gt;
        &gt; &gt;::type my_person;
<p>
    <span class="cxx-comment">// struct her_person</span>
    <span class="cxx-comment">// {</span>
    <span class="cxx-comment">//     std::string m_name;</span>
    <span class="cxx-comment">//     int m_zip_code;</span>
    <span class="cxx-comment">// };</span>
    typedef structure_gen&lt; type_list<a href="./action=edit&id=type_list.html">?</a>&lt;
          name&lt;std::string&gt;
        , zip_code&lt;int&gt;
        &gt; &gt;::type her_person;
<p>
    int main()
    {
        my_person p1;
        her_person p2;
<p>
        p1.m_name = "Helena";    
        p1.m_zip_code = 10001;    
<p>
        p2 = p1; <span class="cxx-comment">// ok</span>
        assert(p2.m_name == p1.m_name);
        assert(p2.m_zip_code == p1.m_zip_code);
<p>
        // p1 = p2; <span class="cxx-comment">// error</span>
    }
<p>
</pre>
<p><hr>
<a href="./Table_of_Content.html">Table of Content</a><br>Last edited February 18, 2002 10:41 pm</body></html>