<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title> QuickBook Grammar</title>
<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.66.1">
<link rel="start" href="../index.html" title="Part I. quickbook 1.1">
<link rel="up" href="../index.html" title="Part I. quickbook 1.1">
<link rel="prev" href="docinfo.html" title=" Library Document Grammar">
<link rel="next" href="highlight.html" title=" C++ Syntax Highlighting Grammar">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%">
<td valign="top"><img alt="boost.png (6897 bytes)" width="277" height="86" src="../../../../../boost.png"></td>
<td align="center"><a href="../../../../../index.htm">Home</a></td>
<td align="center"><a href="../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="../../../../../people/people.htm">People</a></td>
<td align="center"><a href="../../../../../more/faq.htm">FAQ</a></td>
<td align="center"><a href="../../../../../more/index.htm">More</a></td>
</table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="docinfo.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="highlight.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="quickbook.quickbook"></a> QuickBook Grammar</h2></div></div></div>
<pre class="programlisting"><tt class="literal"><span class="identifier">library</span><span class="special"> =</span><span class="special">
    *(</span><span class="identifier">space_p</span><span class="special"> |</span><span class="identifier"> comment</span><span class="special">)</span><span class="special"> &gt;&gt;</span><span class="identifier"> blocks</span><span class="special"> &gt;&gt;</span><span class="identifier"> blank</span><span class="special">
    ;</span><span class="identifier">

blocks</span><span class="special"> =</span><span class="special">
   +(</span><span class="identifier">   block_markup</span><span class="special">
    |</span><span class="identifier">   code</span><span class="special">
    |</span><span class="identifier">   list</span><span class="special">
    |</span><span class="identifier">   hr</span><span class="special">
    |</span><span class="identifier">   comment</span><span class="special"> &gt;&gt;</span><span class="special"> *</span><span class="identifier">eol</span><span class="special">
    |</span><span class="identifier">   paragraph</span><span class="special">
    |</span><span class="identifier">   eol</span><span class="special">
    )</span><span class="special">
    ;</span><span class="identifier">

space</span><span class="special"> =</span><span class="special">
    *(</span><span class="identifier">space_p</span><span class="special"> |</span><span class="identifier"> comment</span><span class="special">)</span><span class="special">
    ;</span><span class="identifier">

blank</span><span class="special"> =</span><span class="special">
    *(</span><span class="identifier">blank_p</span><span class="special"> |</span><span class="identifier"> comment</span><span class="special">)</span><span class="special">
    ;</span><span class="identifier">

eol</span><span class="special"> =</span><span class="identifier"> blank</span><span class="special"> &gt;&gt;</span><span class="identifier"> eol_p</span><span class="special">
    ;</span><span class="identifier">

close_bracket</span><span class="special"> =</span><span class="char">
    ']'</span><span class="special"> |</span><span class="identifier">
    if_p</span><span class="special">(</span><span class="identifier">var</span><span class="special">(</span><span class="identifier">is_not_preformatted</span><span class="special">))</span><span class="special">
    [</span><span class="identifier">
        eol_p</span><span class="special"> &gt;&gt;</span><span class="identifier"> eol_p</span><span class="comment">                  // Make sure that we don't go
</span><span class="special">    ]</span><span class="comment">                                   // past a single block, except
</span><span class="special">    ;</span><span class="comment">                                   // when preformatted.
</span><span class="identifier">
hard_space</span><span class="special"> =</span><span class="special">
    (</span><span class="identifier">eps_p</span><span class="special"> -</span><span class="special"> (</span><span class="identifier">alnum_p</span><span class="special"> |</span><span class="char"> '_'</span><span class="special">))</span><span class="special"> &gt;&gt;</span><span class="identifier"> space</span><span class="comment">  // must not be followed by
</span><span class="special">    ;</span><span class="comment">                                   // alpha-numeric or underscore
</span><span class="identifier">
comment</span><span class="special"> =</span><span class="string">
    "[/"</span><span class="special"> &gt;&gt;</span><span class="special"> *(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="char"> ']'</span><span class="special">)</span><span class="special"> &gt;&gt;</span><span class="char"> ']'</span><span class="special">
    ;</span><span class="identifier">

hr</span><span class="special"> =</span><span class="identifier">
    str_p</span><span class="special">(</span><span class="string">"----"</span><span class="special">)</span><span class="special">
    &gt;&gt;</span><span class="special"> *(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="identifier"> eol</span><span class="special">)</span><span class="special">
    &gt;&gt;</span><span class="special"> +</span><span class="identifier">eol</span><span class="special">
    ;</span><span class="identifier">

block_markup</span><span class="special"> =</span><span class="char">
        '['</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="identifier">   begin_section</span><span class="special">
        |</span><span class="identifier">   end_section</span><span class="special">
        |</span><span class="identifier">   headings</span><span class="special">
        |</span><span class="identifier">   blurb</span><span class="special">
        |</span><span class="identifier">   blockquote</span><span class="special">
        |</span><span class="identifier">   preformatted</span><span class="special">
        |</span><span class="identifier">   def_macro</span><span class="special">
        |</span><span class="identifier">   table</span><span class="special">
        |</span><span class="identifier">   variablelist</span><span class="special">
        |</span><span class="identifier">   xinclude</span><span class="special">
        )</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="special">   (</span><span class="char">']'</span><span class="special"> &gt;&gt;</span><span class="special"> +</span><span class="identifier">eol</span><span class="special">)</span><span class="special">
        |</span><span class="identifier">   eps_p</span><span class="special">
        )</span><span class="special">
    ;</span><span class="identifier">

begin_section</span><span class="special"> =</span><span class="string">
       "section"</span><span class="special">
    &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="char">':'</span><span class="special"> &gt;&gt;</span><span class="special"> (*(</span><span class="identifier">alnum_p</span><span class="special"> |</span><span class="char"> '_'</span><span class="special">))</span><span class="special">
        |</span><span class="identifier"> eps_p</span><span class="special">
        )</span><span class="special">
    &gt;&gt;</span><span class="special"> (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="identifier">
            close_bracket</span><span class="special">))</span><span class="special">
    ;</span><span class="identifier">

end_section</span><span class="special"> =</span><span class="identifier">
    str_p</span><span class="special">(</span><span class="string">"endsect"</span><span class="special">)</span><span class="special">
    ;</span><span class="identifier">

headings</span><span class="special"> =</span><span class="identifier">
    h1</span><span class="special"> |</span><span class="identifier"> h2</span><span class="special"> |</span><span class="identifier"> h3</span><span class="special"> |</span><span class="identifier"> h4</span><span class="special"> |</span><span class="identifier"> h5</span><span class="special"> |</span><span class="identifier"> h6</span><span class="special">
    ;</span><span class="identifier">

h1</span><span class="special"> =</span><span class="string"> "h1"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="identifier">
h2</span><span class="special"> =</span><span class="string"> "h2"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="identifier">
h3</span><span class="special"> =</span><span class="string"> "h3"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="identifier">
h4</span><span class="special"> =</span><span class="string"> "h4"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="identifier">
h5</span><span class="special"> =</span><span class="string"> "h5"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="identifier">
h6</span><span class="special"> =</span><span class="string"> "h6"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="identifier">

blurb</span><span class="special"> =</span><span class="string">
    "blurb"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">
    ;</span><span class="identifier">

blockquote</span><span class="special"> =</span><span class="char">
    ':'</span><span class="special"> &gt;&gt;</span><span class="identifier"> blank</span><span class="special"> &gt;&gt;</span><span class="identifier">
    phrase</span><span class="special">
    ;</span><span class="identifier">

preformatted</span><span class="special"> =</span><span class="string">
    "pre"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="special"> !</span><span class="identifier">eol</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">
    &gt;&gt;</span><span class="identifier"> eps_p</span><span class="special">
    ;</span><span class="identifier">

def_macro</span><span class="special"> =</span><span class="string">
    "def"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="identifier"> identifier</span><span class="special">
    &gt;&gt;</span><span class="identifier"> blank</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">
    ;</span><span class="identifier">

table</span><span class="special"> =</span><span class="string">
    "table"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="special">  (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="identifier"> eol</span><span class="special">))</span><span class="special">
    &gt;&gt;</span><span class="special">  +</span><span class="identifier">eol</span><span class="special">
    &gt;&gt;</span><span class="special">  *</span><span class="identifier">table_row</span><span class="special">
    &gt;&gt;</span><span class="identifier">  eps_p</span><span class="special">
    ;</span><span class="identifier">

table_row</span><span class="special"> =</span><span class="identifier">
    space</span><span class="special">
    &gt;&gt;</span><span class="identifier">  ch_p</span><span class="special">(</span><span class="char">'['</span><span class="special">)</span><span class="special">
    &gt;&gt;</span><span class="special">
    (</span><span class="special">
        (</span><span class="special">
            *</span><span class="identifier">table_cell</span><span class="special">
            &gt;&gt;</span><span class="identifier">  ch_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
            &gt;&gt;</span><span class="identifier">  space</span><span class="special">
        )</span><span class="special">
        |</span><span class="identifier"> eps_p</span><span class="special">
    )</span><span class="special">
    ;</span><span class="identifier">

table_cell</span><span class="special"> =</span><span class="identifier">
    space</span><span class="special">
    &gt;&gt;</span><span class="identifier">  ch_p</span><span class="special">(</span><span class="char">'['</span><span class="special">)</span><span class="special">
    &gt;&gt;</span><span class="special">
    (</span><span class="special">
        (</span><span class="identifier">
            phrase</span><span class="special">
            &gt;&gt;</span><span class="identifier">  ch_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
            &gt;&gt;</span><span class="identifier">  space</span><span class="special">
        )</span><span class="special">
        |</span><span class="identifier"> eps_p</span><span class="special">
    )</span><span class="special">
    ;</span><span class="identifier">

variablelist</span><span class="special"> =</span><span class="string">
    "variablelist"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="special">  (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="identifier"> eol</span><span class="special">))</span><span class="special">
    &gt;&gt;</span><span class="special">  +</span><span class="identifier">eol</span><span class="special">
    &gt;&gt;</span><span class="special">  *</span><span class="identifier">varlistentry</span><span class="special">
    &gt;&gt;</span><span class="identifier">  eps_p</span><span class="special">
    ;</span><span class="identifier">

varlistentry</span><span class="special"> =</span><span class="identifier">
    space</span><span class="special">
    &gt;&gt;</span><span class="identifier">  ch_p</span><span class="special">(</span><span class="char">'['</span><span class="special">)</span><span class="special">
    &gt;&gt;</span><span class="special">
    (</span><span class="special">
        (</span><span class="identifier">
            varlistterm</span><span class="special">
            &gt;&gt;</span><span class="special"> +</span><span class="identifier">varlistitem</span><span class="special">
            &gt;&gt;</span><span class="identifier">  ch_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
            &gt;&gt;</span><span class="identifier">  space</span><span class="special">
        )</span><span class="special">
        |</span><span class="identifier"> eps_p</span><span class="special">
    )</span><span class="special">
    ;</span><span class="identifier">

varlistterm</span><span class="special"> =</span><span class="identifier">
    space</span><span class="special">
    &gt;&gt;</span><span class="identifier">  ch_p</span><span class="special">(</span><span class="char">'['</span><span class="special">)</span><span class="special">
    &gt;&gt;</span><span class="special">
    (</span><span class="special">
        (</span><span class="identifier">
            phrase</span><span class="special">
            &gt;&gt;</span><span class="identifier">  ch_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
            &gt;&gt;</span><span class="identifier">  space</span><span class="special">
        )</span><span class="special">
        |</span><span class="identifier"> eps_p</span><span class="special">
    )</span><span class="special">
    ;</span><span class="identifier">

varlistitem</span><span class="special"> =</span><span class="identifier">
    space</span><span class="special">
    &gt;&gt;</span><span class="identifier">  ch_p</span><span class="special">(</span><span class="char">'['</span><span class="special">)</span><span class="special">
    &gt;&gt;</span><span class="special">
    (</span><span class="special">
        (</span><span class="identifier">
            phrase</span><span class="special">
            &gt;&gt;</span><span class="identifier">  ch_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
            &gt;&gt;</span><span class="identifier">  space</span><span class="special">
        )</span><span class="special">
        |</span><span class="identifier"> eps_p</span><span class="special">
    )</span><span class="special">
    ;</span><span class="identifier">

xinclude</span><span class="special"> =</span><span class="string">
       "xinclude"</span><span class="special">
    &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="special"> (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="identifier">
            close_bracket</span><span class="special">))</span><span class="special">
    ;</span><span class="identifier">

identifier</span><span class="special"> =</span><span class="special">
    *(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special"> (</span><span class="identifier">space_p</span><span class="special"> |</span><span class="char"> ']'</span><span class="special">))</span><span class="special">
    ;</span><span class="identifier">

source_mode</span><span class="special"> =</span><span class="special">
   (</span><span class="identifier">
       str_p</span><span class="special">(</span><span class="string">"c++"</span><span class="special">)</span><span class="special">
       |</span><span class="string">   "python"</span><span class="special">
   )</span><span class="special">
   ;</span><span class="identifier">
            
code</span><span class="special"> =</span><span class="special">
    (</span><span class="identifier">
        code_line</span><span class="special">
        &gt;&gt;</span><span class="special"> *(*</span><span class="identifier">eol</span><span class="special"> &gt;&gt;</span><span class="identifier"> code_line</span><span class="special">)</span><span class="special">
    )</span><span class="special">
    &gt;&gt;</span><span class="special"> +</span><span class="identifier">eol</span><span class="special">
    ;</span><span class="identifier">

code_line</span><span class="special"> =</span><span class="special">
    ((</span><span class="identifier">ch_p</span><span class="special">(</span><span class="char">' '</span><span class="special">)</span><span class="special"> |</span><span class="char"> '\t'</span><span class="special">))</span><span class="special">
    &gt;&gt;</span><span class="special"> *(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="identifier"> eol</span><span class="special">)</span><span class="special"> &gt;&gt;</span><span class="identifier"> eol</span><span class="special">
    ;</span><span class="identifier">

list</span><span class="special"> =</span><span class="identifier">
    eps_p</span><span class="special">(</span><span class="identifier">ch_p</span><span class="special">(</span><span class="char">'*'</span><span class="special">)</span><span class="special"> |</span><span class="char"> '#'</span><span class="special">)</span><span class="special"> &gt;&gt;</span><span class="special">
   +(</span><span class="special">
        (*</span><span class="identifier">blank_p</span><span class="special">
        &gt;&gt;</span><span class="special"> (</span><span class="identifier">ch_p</span><span class="special">(</span><span class="char">'*'</span><span class="special">)</span><span class="special"> |</span><span class="char"> '#'</span><span class="special">))</span><span class="special">
        &gt;&gt;</span><span class="special"> *</span><span class="identifier">blank_p</span><span class="special">
        &gt;&gt;</span><span class="identifier"> list_item</span><span class="special">
    )</span><span class="special">
    ;</span><span class="identifier">

list_item</span><span class="special"> =</span><span class="special">
   *(</span><span class="identifier">   common</span><span class="special">
    |</span><span class="special">   (</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
            (</span><span class="identifier">   eol_p</span><span class="special"> &gt;&gt;</span><span class="special"> *</span><span class="identifier">blank_p</span><span class="special"> &gt;&gt;</span><span class="identifier"> eps_p</span><span class="special">(</span><span class="identifier">ch_p</span><span class="special">(</span><span class="char">'*'</span><span class="special">)</span><span class="special"> |</span><span class="char"> '#'</span><span class="special">)</span><span class="special">
            |</span><span class="special">   (</span><span class="identifier">eol</span><span class="special"> &gt;&gt;</span><span class="identifier"> eol</span><span class="special">)</span><span class="special">
            )</span><span class="special">
        )</span><span class="special">
    )</span><span class="special">
    &gt;&gt;</span><span class="special"> +</span><span class="identifier">eol</span><span class="special">
    ;</span><span class="identifier">

common</span><span class="special"> =</span><span class="identifier">
        self</span><span class="special">.</span><span class="identifier">actions</span><span class="special">.</span><span class="identifier">macro</span><span class="special">
    |</span><span class="identifier">   phrase_markup</span><span class="special">
    |</span><span class="identifier">   inline_code</span><span class="special">
    |</span><span class="identifier">   simple_format</span><span class="special">
    |</span><span class="identifier">   escape</span><span class="special">
    |</span><span class="identifier">   comment</span><span class="special">
    ;</span><span class="identifier">

inline_code</span><span class="special"> =</span><span class="char">
    '`'</span><span class="special"> &gt;&gt;</span><span class="special">
    (</span><span class="special">
       *(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
            (</span><span class="char">   '`'</span><span class="special">
            |</span><span class="special">   (</span><span class="identifier">eol</span><span class="special"> &gt;&gt;</span><span class="identifier"> eol</span><span class="special">)</span><span class="comment">            // Make sure that we don't go
</span><span class="special">            )</span><span class="comment">                           // past a single block
</span><span class="special">        )</span><span class="special"> &gt;&gt;</span><span class="identifier"> eps_p</span><span class="special">(</span><span class="char">'`'</span><span class="special">)</span><span class="special">
    )</span><span class="special">
    &gt;&gt;</span><span class="char">  '`'</span><span class="special">
    ;</span><span class="identifier">

simple_format</span><span class="special"> =</span><span class="identifier">
        simple_bold</span><span class="special">
    |</span><span class="identifier">   simple_italic</span><span class="special">
    |</span><span class="identifier">   simple_underline</span><span class="special">
    |</span><span class="identifier">   simple_teletype</span><span class="special">
    ;</span><span class="identifier">

simple_bold</span><span class="special"> =</span><span class="char">
    '*'</span><span class="special"> &gt;&gt;</span><span class="special">
    (</span><span class="special">
        (</span><span class="identifier">   graph_p</span><span class="special"> &gt;&gt;</span><span class="comment">                  // graph_p must follow '*'
</span><span class="special">            *(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
                (</span><span class="identifier">   eol</span><span class="comment">                 // Make sure that we don't go
</span><span class="special">                |</span><span class="special">   (</span><span class="identifier">graph_p</span><span class="special"> &gt;&gt;</span><span class="char"> '*'</span><span class="special">)</span><span class="comment">    // past a single line
</span><span class="special">                )</span><span class="special">
            )</span><span class="special"> &gt;&gt;</span><span class="identifier"> graph_p</span><span class="comment">                // graph_p must precede '*'
</span><span class="special">            &gt;&gt;</span><span class="identifier"> eps_p</span><span class="special">(</span><span class="char">'*'</span><span class="special">
                &gt;&gt;</span><span class="special"> (</span><span class="identifier">space_p</span><span class="special"> |</span><span class="identifier"> punct_p</span><span class="special">))</span><span class="comment"> // space_p or punct_p must
</span><span class="special">        )</span><span class="comment">                               // follow '*'
</span><span class="special">    |</span><span class="special">   (</span><span class="identifier">
            graph_p</span><span class="comment">                     // A single char. e.g. *c*
</span><span class="special">            &gt;&gt;</span><span class="identifier"> eps_p</span><span class="special">(</span><span class="char">'*'</span><span class="special">
                &gt;&gt;</span><span class="special"> (</span><span class="identifier">space_p</span><span class="special"> |</span><span class="identifier"> punct_p</span><span class="special">))</span><span class="special">
        )</span><span class="special">
    )</span><span class="special">
    &gt;&gt;</span><span class="char"> '*'</span><span class="special">
    ;</span><span class="identifier">

simple_italic</span><span class="special"> =</span><span class="char">
    '/'</span><span class="special"> &gt;&gt;</span><span class="special">
    (</span><span class="special">
        (</span><span class="identifier">   graph_p</span><span class="special"> &gt;&gt;</span><span class="comment">                  // graph_p must follow '/'
</span><span class="special">            *(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
                (</span><span class="identifier">   eol</span><span class="comment">                 // Make sure that we don't go
</span><span class="special">                |</span><span class="special">   (</span><span class="identifier">graph_p</span><span class="special"> &gt;&gt;</span><span class="char"> '/'</span><span class="special">)</span><span class="comment">    // past a single line
</span><span class="special">                )</span><span class="special">
            )</span><span class="special"> &gt;&gt;</span><span class="identifier"> graph_p</span><span class="comment">                // graph_p must precede '/'
</span><span class="special">            &gt;&gt;</span><span class="identifier"> eps_p</span><span class="special">(</span><span class="char">'/'</span><span class="special">
                &gt;&gt;</span><span class="special"> (</span><span class="identifier">space_p</span><span class="special"> |</span><span class="identifier"> punct_p</span><span class="special">))</span><span class="comment"> // space_p or punct_p must
</span><span class="special">        )</span><span class="comment">                               // follow '/'
</span><span class="special">    |</span><span class="special">   (</span><span class="identifier">
            graph_p</span><span class="comment">                     // A single char. e.g. /c/
</span><span class="special">            &gt;&gt;</span><span class="identifier"> eps_p</span><span class="special">(</span><span class="char">'/'</span><span class="special">
                &gt;&gt;</span><span class="special"> (</span><span class="identifier">space_p</span><span class="special"> |</span><span class="identifier"> punct_p</span><span class="special">))</span><span class="special">
        )</span><span class="special">
    )</span><span class="special">
    &gt;&gt;</span><span class="char"> '/'</span><span class="special">
    ;</span><span class="identifier">

simple_underline</span><span class="special"> =</span><span class="char">
    '_'</span><span class="special"> &gt;&gt;</span><span class="special">
    (</span><span class="special">
        (</span><span class="identifier">   graph_p</span><span class="special"> &gt;&gt;</span><span class="comment">                  // graph_p must follow '_'
</span><span class="special">            *(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
                (</span><span class="identifier">   eol</span><span class="comment">                 // Make sure that we don't go
</span><span class="special">                |</span><span class="special">   (</span><span class="identifier">graph_p</span><span class="special"> &gt;&gt;</span><span class="char"> '_'</span><span class="special">)</span><span class="comment">    // past a single line
</span><span class="special">                )</span><span class="special">
            )</span><span class="special"> &gt;&gt;</span><span class="identifier"> graph_p</span><span class="comment">                // graph_p must precede '_'
</span><span class="special">            &gt;&gt;</span><span class="identifier"> eps_p</span><span class="special">(</span><span class="char">'_'</span><span class="special">
                &gt;&gt;</span><span class="special"> (</span><span class="identifier">space_p</span><span class="special"> |</span><span class="identifier"> punct_p</span><span class="special">))</span><span class="comment"> // space_p or punct_p must
</span><span class="special">        )</span><span class="comment">                               // follow '_'
</span><span class="special">    |</span><span class="special">   (</span><span class="identifier">
            graph_p</span><span class="comment">                     // A single char. e.g. _c_
</span><span class="special">            &gt;&gt;</span><span class="identifier"> eps_p</span><span class="special">(</span><span class="char">'_'</span><span class="special">
                &gt;&gt;</span><span class="special"> (</span><span class="identifier">space_p</span><span class="special"> |</span><span class="identifier"> punct_p</span><span class="special">))</span><span class="special">
        )</span><span class="special">
    )</span><span class="special">
    &gt;&gt;</span><span class="char"> '_'</span><span class="special">
    ;</span><span class="identifier">

simple_teletype</span><span class="special"> =</span><span class="char">
    '='</span><span class="special"> &gt;&gt;</span><span class="special">
    (</span><span class="special">
        (</span><span class="identifier">   graph_p</span><span class="special"> &gt;&gt;</span><span class="comment">                  // graph_p must follow '='
</span><span class="special">            *(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
                (</span><span class="identifier">   eol</span><span class="comment">                 // Make sure that we don't go
</span><span class="special">                |</span><span class="special">   (</span><span class="identifier">graph_p</span><span class="special"> &gt;&gt;</span><span class="char"> '='</span><span class="special">)</span><span class="comment">    // past a single line
</span><span class="special">                )</span><span class="special">
            )</span><span class="special"> &gt;&gt;</span><span class="identifier"> graph_p</span><span class="comment">                // graph_p must precede '='
</span><span class="special">            &gt;&gt;</span><span class="identifier"> eps_p</span><span class="special">(</span><span class="char">'='</span><span class="special">
                &gt;&gt;</span><span class="special"> (</span><span class="identifier">space_p</span><span class="special"> |</span><span class="identifier"> punct_p</span><span class="special">))</span><span class="comment"> // space_p or punct_p must
</span><span class="special">        )</span><span class="comment">                               // follow '='
</span><span class="special">    |</span><span class="special">   (</span><span class="identifier">
            graph_p</span><span class="comment">                     // A single char. e.g. =c=
</span><span class="special">            &gt;&gt;</span><span class="identifier"> eps_p</span><span class="special">(</span><span class="char">'='</span><span class="special">
                &gt;&gt;</span><span class="special"> (</span><span class="identifier">space_p</span><span class="special"> |</span><span class="identifier"> punct_p</span><span class="special">))</span><span class="special">
        )</span><span class="special">
    )</span><span class="special">
    &gt;&gt;</span><span class="char"> '='</span><span class="special">
    ;</span><span class="identifier">

paragraph</span><span class="special"> =</span><span class="special">
   *(</span><span class="identifier">   common</span><span class="special">
    |</span><span class="special">   (</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="comment">                    // Make sure we don't go past
</span><span class="special">            (</span><span class="identifier">eol</span><span class="special"> &gt;&gt;</span><span class="identifier"> eol</span><span class="special">)</span><span class="comment">                // a single block.
</span><span class="special">        )</span><span class="special">
    )</span><span class="special">
    &gt;&gt;</span><span class="special"> +</span><span class="identifier">eol</span><span class="special">
    ;</span><span class="identifier">

phrase</span><span class="special"> =</span><span class="special">
   *(</span><span class="identifier">   common</span><span class="special">
    |</span><span class="identifier">   comment</span><span class="special">
    |</span><span class="special">   (</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="identifier">
            close_bracket</span><span class="special">)</span><span class="special">
    )</span><span class="special">
    ;</span><span class="identifier">

phrase_markup</span><span class="special"> =</span><span class="char">
        '['</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="identifier">   image</span><span class="special">
        |</span><span class="identifier">   url</span><span class="special">
        |</span><span class="identifier">   link</span><span class="special">
        |</span><span class="identifier">   anchor</span><span class="special">
        |</span><span class="identifier">   source_mode</span><span class="special">
        |</span><span class="identifier">   funcref</span><span class="special">
        |</span><span class="identifier">   classref</span><span class="special">
        |</span><span class="identifier">   memberref</span><span class="special">
        |</span><span class="identifier">   enumref</span><span class="special">
        |</span><span class="identifier">   headerref</span><span class="special">
        |</span><span class="identifier">   bold</span><span class="special">
        |</span><span class="identifier">   italic</span><span class="special">
        |</span><span class="identifier">   underline</span><span class="special">
        |</span><span class="identifier">   teletype</span><span class="special">
        |</span><span class="identifier">   str_p</span><span class="special">(</span><span class="string">"br"</span><span class="special">)</span><span class="special">
        )</span><span class="special">
    &gt;&gt;</span><span class="char">  ']'</span><span class="special">
    ;</span><span class="identifier">

escape</span><span class="special"> =</span><span class="identifier">
        str_p</span><span class="special">(</span><span class="string">"\\n"</span><span class="special">)</span><span class="special">
    |</span><span class="char">   '\\'</span><span class="special"> &gt;&gt;</span><span class="identifier"> punct_p</span><span class="special">
    |</span><span class="special">   (</span><span class="string">
            "'''"</span><span class="special"> &gt;&gt;</span><span class="special"> !</span><span class="identifier">eol</span><span class="special">
        &gt;&gt;</span><span class="special">  *(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="string"> "'''"</span><span class="special">)</span><span class="special">
        &gt;&gt;</span><span class="string">  "'''"</span><span class="special">
        )</span><span class="special">
    ;</span><span class="identifier">

image</span><span class="special"> =</span><span class="char">
        '$'</span><span class="special"> &gt;&gt;</span><span class="identifier"> blank</span><span class="special">
    &gt;&gt;</span><span class="special"> (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="identifier">
            close_bracket</span><span class="special">))</span><span class="special">
    ;</span><span class="identifier">

url</span><span class="special"> =</span><span class="char">
        '@'</span><span class="special">
    &gt;&gt;</span><span class="special">  (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
            (</span><span class="char">']'</span><span class="special"> |</span><span class="identifier"> hard_space</span><span class="special">)))</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="identifier">   eps_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
        |</span><span class="special">   (</span><span class="identifier">hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">)</span><span class="special">
        )</span><span class="special">
    ;</span><span class="identifier">

link</span><span class="special"> =</span><span class="string">
        "link"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="special">  (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
            (</span><span class="char">']'</span><span class="special"> |</span><span class="identifier"> hard_space</span><span class="special">)))</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="identifier">   eps_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
        |</span><span class="special">   (</span><span class="identifier">hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">)</span><span class="special">
        )</span><span class="special">
    ;</span><span class="identifier">

anchor</span><span class="special"> =</span><span class="char">
        '#'</span><span class="special">
    &gt;&gt;</span><span class="identifier">  blank</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="special">   *(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="identifier">
                close_bracket</span><span class="special">)</span><span class="special">
        )</span><span class="special">
    ;</span><span class="identifier">

funcref</span><span class="special"> =</span><span class="string">
    "funcref"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="special">  (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
            (</span><span class="char">']'</span><span class="special"> |</span><span class="identifier"> hard_space</span><span class="special">)))</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="identifier">   eps_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
        |</span><span class="special">   (</span><span class="identifier">hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">)</span><span class="special">
        )</span><span class="special">
    ;</span><span class="identifier">

classref</span><span class="special"> =</span><span class="string">
    "classref"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="special">  (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
            (</span><span class="char">']'</span><span class="special"> |</span><span class="identifier"> hard_space</span><span class="special">)))</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="identifier">   eps_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
        |</span><span class="special">   (</span><span class="identifier">hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">)</span><span class="special">
        )</span><span class="special">
    ;</span><span class="identifier">

memberref</span><span class="special"> =</span><span class="string">
    "memberref"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="special">  (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
            (</span><span class="char">']'</span><span class="special"> |</span><span class="identifier"> hard_space</span><span class="special">)))</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="identifier">   eps_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
        |</span><span class="special">   (</span><span class="identifier">hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">)</span><span class="special">
        )</span><span class="special">
    ;</span><span class="identifier">

enumref</span><span class="special"> =</span><span class="string">
    "enumref"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="special">  (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
            (</span><span class="char">']'</span><span class="special"> |</span><span class="identifier"> hard_space</span><span class="special">)))</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="identifier">   eps_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
        |</span><span class="special">   (</span><span class="identifier">hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">)</span><span class="special">
        )</span><span class="special">
    ;</span><span class="identifier">

headerref</span><span class="special"> =</span><span class="string">
    "headerref"</span><span class="special"> &gt;&gt;</span><span class="identifier"> hard_space</span><span class="special">
    &gt;&gt;</span><span class="special">  (*(</span><span class="identifier">anychar_p</span><span class="special"> -</span><span class="special">
            (</span><span class="char">']'</span><span class="special"> |</span><span class="identifier"> hard_space</span><span class="special">)))</span><span class="special">
    &gt;&gt;</span><span class="special">  (</span><span class="identifier">   eps_p</span><span class="special">(</span><span class="char">']'</span><span class="special">)</span><span class="special">
        |</span><span class="special">   (</span><span class="identifier">hard_space</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">)</span><span class="special">
        )</span><span class="special">
    ;</span><span class="identifier">

bold</span><span class="special"> =</span><span class="identifier">
        ch_p</span><span class="special">(</span><span class="char">'*'</span><span class="special">)</span><span class="special">
    &gt;&gt;</span><span class="identifier">  blank</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">
    ;</span><span class="identifier">

italic</span><span class="special"> =</span><span class="identifier">
        ch_p</span><span class="special">(</span><span class="char">'\''</span><span class="special">)</span><span class="special">
    &gt;&gt;</span><span class="identifier">  blank</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">
    ;</span><span class="identifier">

underline</span><span class="special"> =</span><span class="identifier">
        ch_p</span><span class="special">(</span><span class="char">'_'</span><span class="special">)</span><span class="special">
    &gt;&gt;</span><span class="identifier">  blank</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">
    ;</span><span class="identifier">

teletype</span><span class="special"> =</span><span class="identifier">
        ch_p</span><span class="special">(</span><span class="char">'^'</span><span class="special">)</span><span class="special">
    &gt;&gt;</span><span class="identifier">  blank</span><span class="special"> &gt;&gt;</span><span class="identifier"> phrase</span><span class="special">
    ;</span></tt></pre>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><small>Copyright © 2002, 2004 Joel de Guzman, Eric Niebler</small></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="docinfo.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="highlight.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
