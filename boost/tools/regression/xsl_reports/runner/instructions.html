<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.3.4: http://docutils.sourceforge.net/" />
<title>Running Boost Regression Tests</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<h1 class="title">Running Boost Regression Tests</h1>
<div class="document" id="running-boost-regression-tests">
<div class="section" id="requirements">
<h2><a name="requirements">Requirements</a></h2>
<ul class="simple">
<li>Python 2.3</li>
</ul>
<p>That's it! You don't even need a CVS client installed.</p>
</div>
<div class="section" id="installation">
<h2><a name="installation">Installation</a></h2>
<ul class="simple">
<li>Download regression driver <tt class="literal"><span class="pre">regression.py</span></tt> from <a class="reference" href="http://cvs.sourceforge.net/viewcvs.py/*checkout*/boost/boost/tools/regression/xsl_reports/runner/regression.py">here</a> (<a class="reference" href="http://tinyurl.com/4fp4g">http://tinyurl.com/4fp4g</a>)
and put it in the directory where you want all the regression 
test files to be placed.</li>
</ul>
<ul>
<li><p class="first"><strong>Optional</strong>: If you already have <tt class="literal"><span class="pre">bjam</span></tt> and/or <tt class="literal"><span class="pre">process_jam_log</span></tt> executables
you'd like to use, just put them in the same directory with <tt class="literal"><span class="pre">regression.py</span></tt>, e.g.:</p>
<pre class="literal-block">
my_boost_regressions/
   regression.py
   bjam.exe
</pre>
</li>
</ul>
</div>
<div class="section" id="running-tests">
<h2><a name="running-tests">Running tests</a></h2>
<ul>
<li><p class="first">To start a regression run, simply run <tt class="literal"><span class="pre">regression.py</span></tt> providing it with the only
required option, runner id (something unique of your choice that will identify your 
results in the reports <a class="footnote-reference" href="#runnerid1" id="id2" name="id2"><sup>1</sup></a>, <a class="footnote-reference" href="#runnerid2" id="id3" name="id3"><sup>2</sup></a>). For example:</p>
<pre class="literal-block">
python regression.py --runner=Metacomm
</pre>
<p>You can specify a particular set of toolsets you want to test with by passing them as 
a comma-separated list using the <tt class="literal"><span class="pre">--toolsets</span></tt> option:</p>
<pre class="literal-block">
python regression.py --runner=Metacomm <strong>--toolsets=gcc,vc7</strong>
</pre>
<p>If you are interested in seeing all available options, run <tt class="literal"><span class="pre">python</span> <span class="pre">regression.py</span></tt>
or <tt class="literal"><span class="pre">python</span> <span class="pre">regression.py</span> <span class="pre">--help</span></tt>.</p>
<p><strong>Note</strong>: If you are behind a firewall/proxy server, everything should still &quot;just work&quot;. 
In the rare cases when it doesn't, you can explicitly specify the proxy server 
parameters through the <tt class="literal"><span class="pre">--proxy</span></tt> option, e.g.:</p>
<pre class="literal-block">
python regression.py --runner=Metacomm <strong>--proxy=http://www.someproxy.com:3128</strong>
</pre>
</li>
</ul>
<table class="footnote" frame="void" id="runnerid1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2" name="runnerid1">[1]</a></td><td>If you are running regressions interlacingly with a different 
set of compilers (e.g. for Intel in the morning and GCC at the end of the day), you need 
to provide a <em>different</em> runner id for each of these runs, e.g. <tt class="literal"><span class="pre">your_name-intel</span></tt>, and
<tt class="literal"><span class="pre">your_name-gcc</span></tt>.</td></tr>
</tbody>
</table>
<table class="footnote" frame="void" id="runnerid2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3" name="runnerid2">[2]</a></td><td>The limitations of the reports' format/medium impose a direct dependency
between the number of compilers you are testing with and the amount of space available 
for your runner id. If you are running regressions for a single compiler, please make 
sure to choose a short enough id that does not significantly disturb the reports' picture.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="details">
<h2><a name="details">Details</a></h2>
<p>The regression run procedure will:</p>
<ul class="simple">
<li>Download the most recent tarball from <a class="reference" href="http://www.boost-consulting.com">http://www.boost-consulting.com</a>, 
unpack it in the subdirectory <tt class="literal"><span class="pre">boost</span></tt>.</li>
<li>Build <tt class="literal"><span class="pre">bjam</span></tt> and <tt class="literal"><span class="pre">process_jam_log</span></tt> if needed. (<tt class="literal"><span class="pre">process_jam_log</span></tt> is an
utility, which extracts the test results from the log file produced by 
Boost.Build)</li>
<li>Run regression tests, process and collect the results.</li>
<li>Upload the results to <a class="reference" href="ftp://fx.meta-comm.com/boost-regression">ftp://fx.meta-comm.com/boost-regression</a>.</li>
</ul>
<p>The report merger process running on MetaCommunications site every 2 hours will 
merge all submitted test runs and publish them at 
<a class="reference" href="http://boost.sourceforge.net/regression-logs/developer">http://boost.sourceforge.net/regression-logs/developer</a>.</p>
</div>
<div class="section" id="advanced-use">
<h2><a name="advanced-use">Advanced use</a></h2>
<div class="section" id="incremental-runs">
<h3><a name="incremental-runs">Incremental runs</a></h3>
<p>You can run <tt class="literal"><span class="pre">regression.py</span></tt> in <em>incremental mode</em> <a class="footnote-reference" href="#incremental" id="id4" name="id4"><sup>3</sup></a> by simply passing 
it an identically named command line flag:</p>
<pre class="literal-block">
python regression.py --runner=Metacomm <strong>--incremental</strong>
</pre>
</div>
<div class="section" id="message-dialogs-access-violations">
<h3><a name="message-dialogs-access-violations">Message dialogs/access violations</a></h3>
<p>TODO</p>
</div>
<div class="section" id="getting-source-from-cvs">
<h3><a name="getting-source-from-cvs">Getting source from CVS</a></h3>
<p>TODO</p>
<table class="footnote" frame="void" id="incremental" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4" name="incremental">[3]</a></td><td>By default the script runs in what is known as <em>full run mode</em>: on 
each script invocation all the files that were left in place by the previous run 
-- in particular, binaries for successfully built tests and libraries -- are 
deleted, and rebuilt once again from scratch. By contrast, in <em>incremental run</em> 
mode the already existing binaries are left intact, and only tests and libraries 
which source files has changed since the previous run are re-built and re-tested.</td></tr>
</tbody>
</table>
</div>
</div>
</div>
<hr class="footer" />
<div class="footer">
<a class="reference" href="instructions.rst">View document source</a>.
Generated on: 2004-07-23 19:58 UTC.
Generated by <a class="reference" href="http://docutils.sourceforge.net/">Docutils</a> from <a class="reference" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> source.
</div>
</body>
</html>
